# C++　模板元编程

**元编程侧重点在于[用代码生成代码]， 泛型编程侧重点在于减小代码对特定数据类型的依赖**

## 1. 概述

模板元编程（Template Meta programming, TMP) 是编写生成或操纵程序的程序，也是一种复杂且功能强大的编程范式。Programming Paradigm

**C++模板给C++提供了元编程的能力**， 但大部分用户对C++模板的使用并不是很频繁，大致限于泛型编程，在一些系统级别的代码，尤其是对通用性，性能要求极高的基础库，如STL，Boost。几乎不可避免在大量地使用C++模板以及模板元编程。

模板元编程完全不同于普通的运行期程序，因为模板元编程的执行完全是在编译器，并且模板元程序操纵的数据不能是运行时变量，只能是编译期常量，不可修改。

另外它用到的语法元素也是有限，不能使用运行期的一些语法，if-else，for和while等语句都不能用。

因此，模板元编程需要很多技巧，常见的有：

* 类型重定义
* 枚举常量
* 继承
* 模板偏特化

## 2. 模板元编程的作用

C++ 模板最初是为了实现泛型编程设计的，但人们发现模板的能力远远不止于那些设计的功能。

一个重要的结论就是：C++模板是图灵完备性的，就是用C++模板可以模拟图灵机

理论上来说C++模板可以执行任何计算任务，但实际上因为模板是编译器计算，其能力受到具体编译器实现的限制

C++模板是图灵完备的，这使得C++代码存在两种层次，执行编译计算的代码成为静态代码，执行运行期计算的代码成为动态代码

C++模板可以做以下任务：

* 编译器数值计算
* 类型计算
* 代码计算

模板元编程的基本原则为：将负载由运行时转移到编译时，同时保持原有的抽象层次































